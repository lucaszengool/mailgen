/** * Premium Email Templates with Advanced Personalization * Based on 2024 best practices: Interactive elements, visual storytelling, AI personalization */
class PremiumEmailTemplates { constructor() { // Industry-specific value propositions this.industryMessages = { 'technology': { painPoints: ['scaling technical infrastructure', 'development velocity', 'technical debt', 'security compliance'], benefits: ['automated DevOps workflows', 'AI-powered code review', 'predictive scaling', 'compliance automation'], metrics: { growth: '3.2x', time: '67%', cost: '$240K' } }, 'saas': { painPoints: ['customer churn', 'acquisition costs', 'feature adoption', 'revenue predictability'], benefits: ['intelligent user segmentation', 'predictive churn prevention', 'automated onboarding flows', 'revenue forecasting'], metrics: { growth: '2.8x', time: '45%', cost: '$180K' } }, 'ecommerce': { painPoints: ['cart abandonment', 'inventory management', 'customer lifetime value', 'personalization at scale'], benefits: ['AI-powered recommendation engines', 'predictive inventory optimization', 'automated customer journeys', 'dynamic pricing'], metrics: { growth: '4.1x', time: '52%', cost: '$320K' } }, 'healthcare': { painPoints: ['patient engagement', 'operational efficiency', 'compliance burden', 'data interoperability'], benefits: ['automated patient outreach', 'AI scheduling optimization', 'compliance automation', 'unified data platform'], metrics: { growth: '2.3x', time: '71%', cost: '$450K' } }, 'finance': { painPoints: ['risk management', 'regulatory compliance', 'customer acquisition', 'operational costs'], benefits: ['AI risk assessment', 'automated compliance reporting', 'predictive lead scoring', 'process automation'], metrics: { growth: '3.7x', time: '58%', cost: '$520K' } }, 'default': { painPoints: ['operational efficiency', 'growth acceleration', 'cost optimization', 'competitive advantage'], benefits: ['process automation', 'AI-powered insights', 'predictive analytics', 'intelligent workflows'], metrics: { growth: '2.5x', time: '50%', cost: '$150K' } } }; // Role-specific messaging this.roleMessages = { 'CEO': { focus: 'strategic growth and competitive advantage', metrics: 'ROI and market share', tone: 'visionary and results-driven' }, 'CTO': { focus: 'technical excellence and innovation', metrics: 'performance and scalability', tone: 'technical and solution-oriented' }, 'CMO': { focus: 'customer acquisition and brand growth', metrics: 'conversion rates and CAC', tone: 'creative and data-driven' }, 'CFO': { focus: 'financial efficiency and risk management', metrics: 'cost savings and revenue growth', tone: 'analytical and ROI-focused' }, 'VP': { focus: 'team productivity and operational excellence', metrics: 'efficiency gains and team performance', tone: 'collaborative and growth-focused' } }; // Company stage messaging this.stageMessages = { 'startup': { hook: 'rapid scaling without the growing pains', proof: 'helped 150+ startups achieve product-market fit', urgency: 'while your competitors are still figuring it out' }, 'growth': { hook: 'breakthrough the growth plateau', proof: 'powered $2B+ in revenue growth for scaling companies', urgency: 'capture market share before consolidation' }, 'enterprise': { hook: 'enterprise transformation at startup speed', proof: 'trusted by Fortune 500 leaders', urgency: 'stay ahead of digital disruption' } }; } /** * Generate truly personalized, premium email */ generatePremiumEmail(prospect, businessAnalysis, marketingStrategy, ollamaContent) { // Deep personalization based on prospect data const industry = this.detectIndustry(prospect, marketingStrategy); const role = this.detectRole(prospect); const stage = this.detectCompanyStage(prospect); const painPoints = this.identifyRelevantPainPoints(prospect, industry, marketingStrategy); // Generate unique content for this specific prospect const personalizedContent = this.createPersonalizedNarrative( prospect, businessAnalysis, industry, role, stage, painPoints ); // Choose template style based on prospect profile const templateStyle = this.selectTemplateStyle(role, industry); return this.buildPremiumTemplate( prospect, businessAnalysis, personalizedContent, templateStyle ); } /** * Build the premium HTML template */ buildPremiumTemplate(prospect, businessAnalysis, content, style) { const subject = this.generateDynamicSubject(prospect, content); const body = `
<!DOCTYPE html>
<html>
<head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>${subject}</title>
</head>
<body style="margin: 0; padding: 0; background-color: #fafbfc; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;"> <!-- Wrapper --> <table width="100%" cellpadding="0" cellspacing="0" style="background: linear-gradient(180deg, #ffffff 0%, #f8f9fb 100%); min-height: 100vh;"> <tr> <td align="center" style="padding: 40px 20px;"> <!-- Main Container --> <table width="600" cellpadding="0" cellspacing="0" style="background: #f9f9f9; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.08); overflow: hidden;"> <!-- Premium Header with Pattern --> <tr> <td style="background: ${style.headerColor}; position: relative; padding: 0;"> <div style="background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wMyI+PHBhdGggZD0iTTIwIDEybDEwIDEwLTEwIDEwLTEwLTEweiIvPjwvZz48L2c+PC9zdmc+'); background-size: 40px 40px; padding: 48px 40px;"> <table width="100%" cellpadding="0" cellspacing="0"> <tr> <td> <!-- Company Logos --> <table width="100%" cellpadding="0" cellspacing="0"> <tr> <td align="center"> <div style="display: inline-block; padding: 12px 24px; background: #f5f5f5; border-radius: 100px; backdrop-filter: blur(10px);"> <span style="color: #ffffff; font-size: 14px; font-weight: 600; letter-spacing: 0.5px;"> ${businessAnalysis.companyName} Ã— ${prospect.company} </span> </div> </td> </tr> </table> <!-- Dynamic Headline --> <h1 style="color: #ffffff; font-size: 32px; font-weight: 700; margin: 24px 0 16px 0; text-align: center; line-height: 1.2;"> ${content.headline} </h1> <!-- Subheadline --> <p style="color: rgba(255,255,255,0.9); font-size: 18px; margin: 0; text-align: center; font-weight: 400;"> ${content.subheadline} </p> </td> </tr> </table> </div> </td> </tr> <!-- Personalized Opening --> <tr> <td style="padding: 40px;"> <p style="font-size: 18px; color: #1a1a1a; line-height: 1.6; margin: 0 0 20px 0;"> Hi ${prospect.name || prospect.email.split('@')[0]}, </p> <p style="font-size: 16px; color: #4a5568; line-height: 1.8; margin: 0 0 24px 0;"> ${content.personalizedOpening} </p> <!-- Industry Insight Card --> <table width="100%" cellpadding="0" cellspacing="0" style="margin: 32px 0;"> <tr> <td style="background: linear-gradient(135deg, ${style.gradientStart} 0%, ${style.gradientEnd} 100%); border-radius: 12px; padding: 24px;"> <table width="100%" cellpadding="0" cellspacing="0"> <tr> <td> <div style="display: inline-block; padding: 6px 12px; background: #f5f5f5; border-radius: 20px; margin-bottom: 12px;"> <span style="color: #ffffff; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;"> Industry Insight </span> </div> <p style="color: #ffffff; font-size: 16px; line-height: 1.6; margin: 0;"> ${content.industryInsight} </p> </td> </tr> </table> </td> </tr> </table> <!-- Value Propositions with Icons --> <h3 style="color: #1a1a1a; font-size: 20px; font-weight: 600; margin: 32px 0 20px 0;"> ${content.valueHeader} </h3> ${content.valueProps.map((prop, index) => ` <table width="100%" cellpadding="0" cellspacing="0" style="margin: 0 0 16px 0;"> <tr> <td width="48" valign="top"> <div style="width: 40px; height: 40px; background: ${this.getIconGradient(index)}; border-radius: 10px; "> <span style="color: #ffffff; font-size: 20px;">${this.getIcon(prop.type)}</span> </div> </td> <td style="padding-left: 16px;"> <h4 style="color: #1a1a1a; font-size: 16px; font-weight: 600; margin: 0 0 4px 0;"> ${prop.title} </h4> <p style="color: #718096; font-size: 14px; line-height: 1.5; margin: 0;"> ${prop.description} </p> </td> </tr> </table> `).join('')} <!-- Success Metrics Dashboard --> <div style="background: #f8fafc; border-radius: 12px; padding: 24px; margin: 32px 0;"> <h4 style="color: #1a1a1a; font-size: 16px; font-weight: 600; margin: 0 0 16px 0; text-align: center;"> ${content.metricsHeader} </h4> <table width="100%" cellpadding="0" cellspacing="0"> <tr> ${content.metrics.map(metric => ` <td width="33%" align="center" style="padding: 0 8px;"> <div style="font-size: 32px; font-weight: 700; color: ${style.accentColor}; margin-bottom: 4px;"> ${metric.value} </div> <div style="font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px;"> ${metric.label} </div> </td> `).join('')} </tr> </table> </div> <!-- Social Proof Section --> <div style="background: #f9f9f9; border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px; margin: 24px 0;"> <table width="100%" cellpadding="0" cellspacing="0"> <tr> <td width="60" valign="top"> <img src="https://ui-avatars.com/api/?name=${content.testimonial.author}&background=${style.avatarBg}&color=fff&size=48&rounded=true" style="width: 48px; height: 48px; border-radius: 24px;"> </td> <td style="padding-left: 16px;"> <p style="color: #4a5568; font-size: 15px; line-height: 1.6; margin: 0 0 8px 0; font-style: italic;"> "${content.testimonial.quote}" </p> <p style="color: #1a1a1a; font-size: 14px; font-weight: 600; margin: 0;"> ${content.testimonial.author} </p> <p style="color: #718096; font-size: 13px; margin: 0;"> ${content.testimonial.title} at ${content.testimonial.company} </p> </td> </tr> </table> </div> <!-- Personalized CTA Section --> <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-radius: 12px; padding: 32px; margin: 32px 0; text-align: center;"> <h3 style="color: #92400e; font-size: 20px; font-weight: 600; margin: 0 0 12px 0;"> ${content.ctaHeader} </h3> <p style="color: #b45309; font-size: 15px; line-height: 1.5; margin: 0 0 20px 0;"> ${content.ctaSubtext} </p> <a href="${content.ctaUrl}" style="display: inline-block; padding: 14px 32px; background: linear-gradient(135deg, ${style.ctaGradientStart} 0%, ${style.ctaGradientEnd} 100%); color: #ffffff; text-decoration: none; font-size: 16px; font-weight: 600; border-radius: 8px; box-shadow: 0 4px 14px rgba(0,0,0,0.15);"> ${content.ctaText} </a> <p style="color: #d97706; font-size: 13px; margin: 16px 0 0 0;"> ${content.ctaUrgency} </p> </div> <!-- Closing with Next Steps --> <p style="font-size: 16px; color: #4a5568; line-height: 1.6; margin: 24px 0;"> ${content.closing} </p> <!-- Calendar Link --> <table width="100%" cellpadding="0" cellspacing="0" style="margin: 24px 0;"> <tr> <td align="center"> <a href="${content.calendarUrl}" style="display: inline-block; padding: 10px 20px; background: #f9f9f9; border: 2px solid ${style.accentColor}; color: ${style.accentColor}; text-decoration: none; font-size: 14px; font-weight: 600; border-radius: 6px;"> Book a 15-min call </a> </td> </tr> </table> </td> </tr> <!-- Premium Footer --> <tr> <td style="background: #1a1a1a; padding: 32px 40px;"> <table width="100%" cellpadding="0" cellspacing="0"> <tr> <td> <p style="color: #ffffff; font-size: 16px; font-weight: 600; margin: 0;"> ${content.senderName} </p> <p style="color: #a0aec0; font-size: 14px; margin: 4px 0 16px 0;"> ${content.senderTitle} at ${businessAnalysis.companyName} </p> <table cellpadding="0" cellspacing="0"> <tr> <td> <a href="${content.linkedinUrl}" style="display: inline-block; margin-right: 12px;"> <img src="https://img.icons8.com/color/32/000000/linkedin.png" width="24" height="24"> </a> </td> <td> <a href="${content.websiteUrl}" style="color: #4CAF50; text-decoration: none; font-size: 14px;"> ${content.websiteUrl} </a> </td> </tr> </table> </td> <td align="right" valign="top"> <img src="${content.companyLogo}" alt="${businessAnalysis.companyName}" style="height: 32px;"> </td> </tr> </table> </td> </tr> </table> <!-- Compliance Footer --> <table width="600" cellpadding="0" cellspacing="0" style="margin-top: 24px;"> <tr> <td align="center"> <p style="color: #a0aec0; font-size: 12px; line-height: 1.5; margin: 0;"> This email was sent to ${prospect.email} because we believe ${prospect.company} could benefit from our solutions.<br> <a href="#" style="color: #4CAF50; text-decoration: none;">Unsubscribe</a> | <a href="#" style="color: #4CAF50; text-decoration: none;">Privacy Policy</a> </p> </td> </tr> </table> </td> </tr> </table> </body>
</html>`; return { subject, body, template_type: 'premium_personalized', personalization_level: 'maximum' }; } /** * Generate dynamic subject lines */ generateDynamicSubject(prospect, content) { const templates = [ `${prospect.name?.split(' ')[0]}, ${content.subjectHook}`, `Quick question about ${prospect.company}'s ${content.focus}`, `${content.metric} improvement opportunity for ${prospect.company}`, `${prospect.company} + ${content.partnerBenefit}`, `Re: ${prospect.company}'s ${content.recentAchievement}` ]; return templates[Math.floor(Math.random() * templates.length)]; } /** * Create personalized narrative */ createPersonalizedNarrative(prospect, businessAnalysis, industry, role, stage, painPoints) { const industryData = this.industryMessages[industry] || this.industryMessages.default; const roleData = this.roleMessages[role] || this.roleMessages.VP; const stageData = this.stageMessages[stage] || this.stageMessages.growth; return { headline: `Transform ${prospect.company}'s ${roleData.focus}`, subheadline: stageData.hook, personalizedOpening: `I noticed ${prospect.company}'s recent ${this.generateRecentContext(prospect)}. ${this.generateCompliment(prospect, industry)}.`, industryInsight: `Companies in ${industry} typically lose ${industryData.metrics.cost}/year on ${painPoints[0]}. We've ${stageData.proof}.`, valueHeader: `How ${businessAnalysis.companyName} specifically helps ${prospect.company}:`, valueProps: painPoints.slice(0, 3).map((pain, index) => ({ type: ['efficiency', 'growth', 'innovation'][index], title: industryData.benefits[index], description: `Address ${pain} with our proven approach that delivers ${industryData.metrics.growth} growth` })), metricsHeader: `Expected Results for ${prospect.company}`, metrics: [ { value: industryData.metrics.growth, label: 'Revenue Growth' }, { value: industryData.metrics.time, label: 'Time Saved' }, { value: industryData.metrics.cost, label: 'Cost Reduction' } ], testimonial: this.generateTestimonial(industry, stage), ctaHeader: `Ready to ${roleData.focus}?`, ctaSubtext: `See how ${businessAnalysis.companyName} can transform ${prospect.company} in just 30 days`, ctaText: 'Get Your Custom Demo', ctaUrl: `https://calendly.com/fruitai/discovery?company=${encodeURIComponent(prospect.company)}`, ctaUrgency: stageData.urgency, closing: `Looking forward to showing you how we can help ${prospect.company} achieve similar results. Would next Tuesday or Wednesday work better for a quick call?`, calendarUrl: 'https://calendly.com/fruitai/15min', senderName: 'James Wilson', senderTitle: 'Head of Partnerships', linkedinUrl: 'https://linkedin.com/in/jameswilson', websiteUrl: businessAnalysis.website || 'https://your-company.com', companyLogo: businessAnalysis.website ? `${businessAnalysis.website}/logo.png` : 'https://your-company.com/logo.png', subjectHook: `saw your ${this.generateRecentContext(prospect)}`, focus: painPoints[0], metric: industryData.metrics.growth, partnerBenefit: `${industryData.benefits[0]}`, recentAchievement: this.generateRecentContext(prospect) }; } /** * Helper methods */ detectIndustry(prospect, marketingStrategy) { const domain = prospect.domain || ''; const company = prospect.company || ''; if (domain.includes('tech') || company.toLowerCase().includes('tech')) return 'technology'; if (domain.includes('health') || company.toLowerCase().includes('health')) return 'healthcare'; if (domain.includes('finance') || company.toLowerCase().includes('bank')) return 'finance'; if (marketingStrategy?.industry) return marketingStrategy.industry.toLowerCase(); return 'default'; } detectRole(prospect) { const email = prospect.email || ''; const name = prospect.name || ''; if (email.includes('ceo') || name.includes('CEO')) return 'CEO'; if (email.includes('cto') || name.includes('CTO')) return 'CTO'; if (email.includes('cmo') || name.includes('CMO')) return 'CMO'; if (email.includes('cfo') || name.includes('CFO')) return 'CFO'; return 'VP'; } detectCompanyStage(prospect) { const company = prospect.company || ''; if (company.includes('Inc') || company.includes('Corp')) return 'enterprise'; if (company.length < 10) return 'startup'; return 'growth'; } identifyRelevantPainPoints(prospect, industry, marketingStrategy) { const industryPains = this.industryMessages[industry]?.painPoints || this.industryMessages.default.painPoints; const strategyPains = marketingStrategy?.target_audience?.pain_points || []; return [...new Set([...strategyPains, ...industryPains])].slice(0, 4); } generateRecentContext(prospect) { const contexts = [ 'expansion into new markets', 'recent funding announcement', 'product launch', 'team growth', 'innovation in the space' ]; return contexts[Math.floor(Math.random() * contexts.length)]; } generateCompliment(prospect, industry) { const compliments = [ `Your approach to ${industry} innovation is exactly what the market needs`, `It's impressive how you're tackling these challenges differently`, `Your team's execution speed is remarkable`, `The way you're approaching the market is refreshing` ]; return compliments[Math.floor(Math.random() * compliments.length)]; } generateTestimonial(industry, stage) { const testimonials = { technology: { quote: "Within 60 days, we reduced our development cycle by 40% and shipped 3x more features", author: "Sarah Chen", title: "VP Engineering", company: "TechScale" }, healthcare: { quote: "Patient satisfaction increased by 35% while reducing operational costs by $2M annually", author: "Dr. Michael Rodriguez", title: "Chief Medical Officer", company: "HealthFirst" }, default: { quote: "The ROI was evident within the first month. We've 3x'd our growth rate", author: "Jennifer Park", title: "COO", company: "GrowthCo" } }; return testimonials[industry] || testimonials.default; } selectTemplateStyle(role, industry) { const styles = { CEO: { headerColor: '#1e40af', gradientStart: '#3b82f6', gradientEnd: '#1e40af', accentColor: '#3b82f6', ctaGradientStart: '#3b82f6', ctaGradientEnd: '#1e40af', avatarBg: '3b82f6' }, CTO: { headerColor: '#7c3aed', gradientStart: '#8b5cf6', gradientEnd: '#7c3aed', accentColor: '#8b5cf6', ctaGradientStart: '#8b5cf6', ctaGradientEnd: '#7c3aed', avatarBg: '8b5cf6' }, default: { headerColor: '#4f46e5', gradientStart: '#6366f1', gradientEnd: '#4f46e5', accentColor: '#6366f1', ctaGradientStart: '#6366f1', ctaGradientEnd: '#4f46e5', avatarBg: '6366f1' } }; return styles[role] || styles.default; } getIconGradient(index) { const gradients = [ 'linear-gradient(135deg, #4CAF50 0%, #45a049 100%)', 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' ]; return gradients[index % gradients.length]; } getIcon(type) { const icons = { efficiency: '', growth: '', innovation: '', default: '' }; return icons[type] || icons.default; }
} module.exports = PremiumEmailTemplates;